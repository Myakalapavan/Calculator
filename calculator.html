<!DOCTYPE html>
<html>
    <head>
        <link rel="stylesheet" href="calculator.css">
    </head>
    <body>
        <div class="container">
            <input type="text" id="inputbox">
            <div class="buttons">
                <button class="r">C</button>
                <button class="b">←</button>
                <button class="c">%</button>
                <button class="c">/</button>
                <button>7</button>
                <button>8</button>
                <button>9</button>
                <button class="c">x</button>
                <button>4</button>
                <button>5</button>
                <button>6</button>
                <button class="c">-</button>
                <button>1</button>
                <button>2</button>
                <button>3</button>
                <button class="c">+</button>
                <button>00</button>
                <button>0</button>
                <button>Del</button>
                <button class="g">=</button>

            </div>
        </div>
        <script>
            let input = document.getElementById('inputbox');
            let buttons = document.querySelectorAll('button');
            let str='';
            for (let i=0;i<buttons.length;i++){
                buttons[i].addEventListener('click',process);

                function process(event){
                    let value=event.target.innerHTML;

                        if (value === '=') {
                        try {
                            str = eval(str); // Evaluates the mathematical expression
                            input.value = str;
                        } catch (e) {
                            input.value = "Error";
                            str = "";
                        }
                    } 

                    else if(value === '←' || value =='Del'){
                        str=str.substring(0,str.length-1);
                        input.value=str;
                    }

                    else if(value === 'C'){
                        str='';
                        input.value=str;
                    }

                    else if(value === '%'){
                        str=str+'%';
                        input.value=str;
                    }

                    else if(value === 'x'){
                        str=str+'*';
                        input.value=str;
                    }

                    else if(value === '/'){
                        str=str+'/';
                        input.value=str;
                    }

                    else{
                        str=str+value;
                        input.value=str;
                    }

                }
            }

        </script>
    </body>
</html>